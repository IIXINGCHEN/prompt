# AxiomOS 版本迁移指南

本文档提供了不同 AxiomOS 版本之间的迁移指南。

## 📋 版本迁移矩阵

| 从版本 | 到版本 | 难度 | 推荐路径 |
|--------|--------|------|----------|
| v17.2 | v18.3 | ⚡ 简单 | 直接升级 |
| v17.0-v17.1 | v18.3 | ⚡ 简单 | 直接升级 |
| v16.x | v18.3 | ⚠️ 中等 | 先升级到 v17.2 |
| v15.x | v18.3 | ⛔ 复杂 | 分阶段升级 |
| v14.x | v18.3 | ⛔ 复杂 | 重新实施 |

## 🚀 快速迁移（v17.x → v18.3）

### 步骤 1: 备份当前配置
```bash
cp .claude/CLAUDE.md .claude/CLAUDE.md.backup
cp -r docs/current docs/current.backup
```

### 步骤 2: 更新协议文件
1. 替换协议文件为 `axiom-os-v18.3.md`
2. 更新 `.claude/CLAUDE.md` 引用

### 步骤 3: 验证新特性
- ✅ 核心启动加载程序与安全内核
- ✅ Ultrathink 深度战略分析协议
- ✅ 增强的自我诊断报告

### 步骤 4: 测试验证
```
请加载 AxiomOS v18.3 协议，并启动自检程序。
```

## ⚠️ 重要警告

### 避免使用 v18.1
**v18.1 包含错误的身份声明**（错误地声称"由Google训练"），请跳过此版本直接升级到 v18.3。

## 🔄 从旧版本迁移（v16.x 及更早）

### v16.x → v18.3

#### 主要变更
1. **安全内核增强**
   - 新增指令边界定义
   - 注入攻击检测机制
   - 不可变身份协议

2. **认知机制升级**
   - Ultrathink 协议
   - 上下文压缩优化
   - 状态管理改进

#### 迁移步骤
1. **评估现有配置**
   ```bash
   # 检查当前版本
   grep "version" .claude/CLAUDE.md
   ```

2. **更新依赖**
   - 更新 MCP 工具配置
   - 验证 Node.js 版本 >= 18

3. **逐步迁移**
   - 先升级到 v17.2（稳定版本）
   - 测试所有功能
   - 再升级到 v18.3

### v15.x 及更早版本

对于 v15.x 及更早版本，建议：

1. **完整重新部署**
   - 架构变化较大，建议重新实施
   - 保留业务逻辑，重构协议层

2. **分阶段迁移**
   ```
   v14.x/v15.x → v16.0 → v17.2 → v18.3
   ```

## 📝 迁移检查清单

### 迁移前
- [ ] 备份所有配置文件
- [ ] 记录当前版本号
- [ ] 验证系统兼容性
- [ ] 准备回滚方案

### 迁移中
- [ ] 更新协议文件
- [ ] 更新配置文件
- [ ] 更新依赖项
- [ ] 运行验证脚本

### 迁移后
- [ ] 执行自检程序
- [ ] 测试核心功能
- [ ] 验证安全特性
- [ ] 更新文档引用

## 🔧 常见问题

### Q: 迁移失败如何回滚？
A: 使用备份文件恢复：
```bash
cp .claude/CLAUDE.md.backup .claude/CLAUDE.md
cp -r docs/current.backup docs/current
```

### Q: 如何验证迁移成功？
A: 运行以下命令：
```
请加载 AxiomOS v18.3 协议，并启动自检程序。
```

### Q: v18.0 和 v18.3 的主要区别？
A: v18.3 增加了：
- 核心安全内核增强
- 修复了 v18.1 的身份声明错误
- Ultrathink 深度分析协议

## 📞 获取帮助

如遇到迁移问题，请：
1. 查看 [故障排除指南](../troubleshooting/README.md)
2. 提交 [GitHub Issue](https://github.com/IIXINGCHEN/prompt/issues)
3. 参考 [快速开始指南](quick-start.md)

---

**最后更新**: 2025-09-26
**维护者**: AxiomOS Team
